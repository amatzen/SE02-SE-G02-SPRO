<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" contentScriptType="application/ecmascript" contentStyleType="text/css"
     height="462px" preserveAspectRatio="none" style="width:521px;height:462px;" version="1.1" viewBox="0 0 521 462"
     width="521px" zoomAndPan="magnify"><defs><filter height="300%" id="fh7e9gzqrkfxh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="450.6484" style="stroke:#A80036;stroke-width:1.0;" width="514.5" x="1" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107" x="204.75" y="18.0669">Authentication</text><rect fill="#FFFFFF" filter="url(#fh7e9gzqrkfxh)" height="306.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="43" y="86.7266"/><rect fill="#FFFFFF" filter="url(#fh7e9gzqrkfxh)" height="276.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="265" y="107.8594"/><rect fill="#FFFFFF" filter="url(#fh7e9gzqrkfxh)" height="40.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="270" y="218.3906"/><rect fill="#FFFFFF" filter="url(#fh7e9gzqrkfxh)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="425" y="318.7891"/><rect fill="#FFFFFF" filter="url(#fh7e9gzqrkfxh)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="484.5" y="136.9922"/><rect fill="#FFFFFF" filter="url(#fh7e9gzqrkfxh)" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="268.5" x="199" y="280.5234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="76.7266" y2="402.0547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="270" x2="270" y1="76.7266" y2="402.0547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="429.5" x2="429.5" y1="76.7266" y2="402.0547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="489.5" x2="489.5" y1="76.7266" y2="402.0547"/><rect fill="#FEFECE" filter="url(#fh7e9gzqrkfxh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="82" x="5" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="12" y="61.4248">:Producer</text><rect fill="#FEFECE" filter="url(#fh7e9gzqrkfxh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="82" x="5" y="401.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="12" y="421.0498">:Producer</text><rect fill="#FEFECE" filter="url(#fh7e9gzqrkfxh)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="118" x="209" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="234" y="45.1279">«Control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="216" y="61.4248">:AuthController</text><rect fill="#FEFECE" filter="url(#fh7e9gzqrkfxh)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="118" x="209" y="401.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="234" y="421.0498">«Control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="216" y="437.3467">:AuthController</text><rect fill="#FEFECE" filter="url(#fh7e9gzqrkfxh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="402.5" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="409.5" y="61.4248">:User</text><rect fill="#FEFECE" filter="url(#fh7e9gzqrkfxh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="402.5" y="401.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="409.5" y="421.0498">:User</text><rect fill="#FEFECE" filter="url(#fh7e9gzqrkfxh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="40" x="467.5" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="474.5" y="61.4248">:DB</text><rect fill="#FEFECE" filter="url(#fh7e9gzqrkfxh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="40" x="467.5" y="401.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="474.5" y="421.0498">:DB</text><rect fill="#FFFFFF" filter="url(#fh7e9gzqrkfxh)" height="306.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="43" y="86.7266"/><rect fill="#FFFFFF" filter="url(#fh7e9gzqrkfxh)" height="276.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="265" y="107.8594"/><rect fill="#FFFFFF" filter="url(#fh7e9gzqrkfxh)" height="40.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="270" y="218.3906"/><rect fill="#FFFFFF" filter="url(#fh7e9gzqrkfxh)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="425" y="318.7891"/><rect fill="#FFFFFF" filter="url(#fh7e9gzqrkfxh)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="484.5" y="136.9922"/><polygon fill="#A80036" points="253,103.8594,263,107.8594,253,111.8594,257,107.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53" x2="259" y1="107.8594" y2="107.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="60" y="102.7935">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="73" y="102.7935">signIn(username, password)</text><polygon fill="#A80036" points="472.5,132.9922,482.5,136.9922,472.5,140.9922,476.5,136.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="275" x2="478.5" y1="136.9922" y2="136.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="282" y="131.9263">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="295" y="131.9263">Retrieve user hash</text><polygon fill="#A80036" points="286,162.125,276,166.125,286,170.125,282,166.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280" x2="488.5" y1="166.125" y2="166.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="292" y="161.0591">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="309" y="161.0591"/><line style="stroke:#A80036;stroke-width:1.0;" x1="275" x2="322" y1="205.3906" y2="205.3906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="322" x2="322" y1="205.3906" y2="218.3906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="281" x2="322" y1="218.3906" y2="218.3906"/><polygon fill="#A80036" points="291,214.3906,281,218.3906,291,222.3906,287,218.3906" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="287" y="192.7583">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="300" y="185.1919">Compare password</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="304" y="200.3247">against hash</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280" x2="322" y1="257.5234" y2="257.5234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="322" x2="322" y1="257.5234" y2="270.5234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="275" x2="322" y1="270.5234" y2="270.5234"/><polygon fill="#A80036" points="285,266.5234,275,270.5234,285,274.5234,281,270.5234" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="287" y="252.4575">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="300" y="252.4575">Comparison result</text><path d="M199,280.5234 L269,280.5234 L269,287.5234 L259,297.5234 L199,297.5234 L199,280.5234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="268.5" x="199" y="280.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="214" y="293.5903">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59" x="284" y="292.7339">[if equal]</text><polygon fill="#A80036" points="413,314.7891,423,318.7891,413,322.7891,417,318.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="275" x2="419" y1="318.7891" y2="318.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="282" y="313.7231">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="295" y="313.7231">&lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="286,343.9219,276,347.9219,286,351.9219,282,347.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="280" x2="429" y1="347.9219" y2="347.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="292" y="342.856">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="305" y="342.856">loggedin</text><polygon fill="#A80036" points="64,380.0547,54,384.0547,64,388.0547,60,384.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58" x2="269" y1="384.0547" y2="384.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="70" y="378.9888">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="83" y="378.9888">Authentication</text><!--MD5=[07b3a9af875a04a0884b930ea4cfee3c]
@startuml
' https://plantuml.com/sequence-diagram

autonumber

box "Authentication"
    participant ":Producer" as producer
    participant ":AuthController" as authController <<Control>>
    participant ":User" as user
    participant ":DB" as db
end box

activate producer
producer -> authController : signIn(username, password)
activate authController
authController -> db : Retrieve user hash
activate db
authController <- - db
deactivate db

authController -> authController : Compare password\n against hash
activate authController
authController <- - authController : Comparison result
deactivate authController

opt if equal
authController -> user : <<create>>
activate user
authController <- - user : loggedin
deactivate user
end
producer <- - authController : Authentication
deactivate authController

@enduml

@startuml

autonumber

box "Authentication"
    participant ":Producer" as producer
    participant ":AuthController" as authController <<Control>>
    participant ":User" as user
    participant ":DB" as db
end box

activate producer
producer -> authController : signIn(username, password)
activate authController
authController -> db : Retrieve user hash
activate db
authController <- - db
deactivate db

authController -> authController : Compare password\n against hash
activate authController
authController <- - authController : Comparison result
deactivate authController

opt if equal
authController -> user : <<create>>
activate user
authController <- - user : loggedin
deactivate user
end
producer <- - authController : Authentication
deactivate authController

@enduml

PlantUML version 1.2021.5(Sun Apr 25 11:20:28 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>