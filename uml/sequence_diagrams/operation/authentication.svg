<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="491px" preserveAspectRatio="none" style="width:604px;height:491px;background:#FFFFFF;" version="1.1" viewBox="0 0 604 491" width="604px" zoomAndPan="magnify"><defs><filter height="300%" id="f171a9w07wwu2n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="479.7813" style="stroke:#A80036;stroke-width:1.0;" width="582" x="16" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107" x="253.5" y="18.0669">Authentication</text><rect fill="#FFFFFF" filter="url(#f171a9w07wwu2n)" height="335.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="58" y="86.7266"/><rect fill="#FFFFFF" filter="url(#f171a9w07wwu2n)" height="305.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="280" y="107.8594"/><rect fill="#FFFFFF" filter="url(#f171a9w07wwu2n)" height="40.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="285" y="276.6563"/><rect fill="#FFFFFF" filter="url(#f171a9w07wwu2n)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="440" y="166.125"/><rect fill="#FFFFFF" filter="url(#f171a9w07wwu2n)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="567" y="136.9922"/><rect fill="#FFFFFF" filter="url(#f171a9w07wwu2n)" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="346" x="10" y="338.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="76.7266" y2="431.1875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="285" x2="285" y1="76.7266" y2="431.1875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="444.5" x2="444.5" y1="76.7266" y2="431.1875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="572" x2="572" y1="76.7266" y2="431.1875"/><rect fill="#FEFECE" filter="url(#f171a9w07wwu2n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="82" x="20" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="27" y="61.4248">:Producer</text><rect fill="#FEFECE" filter="url(#f171a9w07wwu2n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="82" x="20" y="430.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="27" y="450.1826">:Producer</text><rect fill="#FEFECE" filter="url(#f171a9w07wwu2n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="118" x="224" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66" x="250" y="45.1279">«control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="231" y="61.4248">:AuthController</text><rect fill="#FEFECE" filter="url(#f171a9w07wwu2n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="118" x="224" y="430.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66" x="250" y="450.1826">«control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="231" y="466.4795">:AuthController</text><rect fill="#FEFECE" filter="url(#f171a9w07wwu2n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="417.5" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="424.5" y="61.4248">:User</text><rect fill="#FEFECE" filter="url(#f171a9w07wwu2n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="51" x="417.5" y="430.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="424.5" y="450.1826">:User</text><rect fill="#FEFECE" filter="url(#f171a9w07wwu2n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="40" x="550" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="557" y="61.4248">:DB</text><rect fill="#FEFECE" filter="url(#f171a9w07wwu2n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="40" x="550" y="430.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="557" y="450.1826">:DB</text><rect fill="#FFFFFF" filter="url(#f171a9w07wwu2n)" height="335.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="58" y="86.7266"/><rect fill="#FFFFFF" filter="url(#f171a9w07wwu2n)" height="305.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="280" y="107.8594"/><rect fill="#FFFFFF" filter="url(#f171a9w07wwu2n)" height="40.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="285" y="276.6563"/><rect fill="#FFFFFF" filter="url(#f171a9w07wwu2n)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="440" y="166.125"/><rect fill="#FFFFFF" filter="url(#f171a9w07wwu2n)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="567" y="136.9922"/><polygon fill="#A80036" points="268,103.8594,278,107.8594,268,111.8594,272,107.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="68" x2="274" y1="107.8594" y2="107.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="75" y="102.7935">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="88" y="102.7935">signIn(username, password)</text><polygon fill="#A80036" points="555,132.9922,565,136.9922,555,140.9922,559,136.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="290" x2="561" y1="136.9922" y2="136.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="297" y="131.9263">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="310" y="131.9263">getUserByUsername(username)</text><polygon fill="#A80036" points="461,162.125,451,166.125,461,170.125,457,166.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455" x2="566" y1="166.125" y2="166.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="467" y="161.0591">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="480" y="161.0591">&lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="555,191.2578,565,195.2578,555,199.2578,559,195.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="445" x2="561" y1="195.2578" y2="195.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="452" y="190.1919">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="465" y="190.1919">user</text><polygon fill="#A80036" points="301,220.3906,291,224.3906,301,228.3906,297,224.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="295" x2="571" y1="224.3906" y2="224.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="307" y="219.3247">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="320" y="219.3247">user</text><line style="stroke:#A80036;stroke-width:1.0;" x1="290" x2="337" y1="263.6563" y2="263.6563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="337" x2="337" y1="263.6563" y2="276.6563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="296" x2="337" y1="276.6563" y2="276.6563"/><polygon fill="#A80036" points="306,272.6563,296,276.6563,306,280.6563,302,276.6563" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="302" y="251.0239">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="315" y="243.4575">Compare password</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="319" y="258.5903">against hash</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="295" x2="337" y1="315.7891" y2="315.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337" x2="337" y1="315.7891" y2="328.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="290" x2="337" y1="328.7891" y2="328.7891"/><polygon fill="#A80036" points="300,324.7891,290,328.7891,300,332.7891,296,328.7891" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="302" y="310.7231">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="315" y="310.7231">Comparison result</text><path d="M10,338.7891 L80,338.7891 L80,345.7891 L70,355.7891 L10,355.7891 L10,338.7891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="346" x="10" y="338.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="25" y="351.856">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59" x="95" y="350.9995">[if equal]</text><polygon fill="#A80036" points="79,373.0547,69,377.0547,79,381.0547,75,377.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73" x2="279" y1="377.0547" y2="377.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="85" y="371.9888">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="98" y="371.9888">Successful authentication</text><polygon fill="#A80036" points="79,409.1875,69,413.1875,79,417.1875,75,413.1875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73" x2="284" y1="413.1875" y2="413.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="85" y="408.1216">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="98" y="408.1216">Unsucessful authentication</text><!--MD5=[fbbd9bce8f5dde137df96aa062a4fd95]
@startuml
' https://plantuml.com/sequence-diagram

autonumber

box "Authentication"
    participant ":Producer" as producer
    participant ":AuthController" as authController <<control>>
    participant ":User" as user
    participant ":DB" as db
end box

activate producer
producer -> authController : signIn(username, password)
activate authController
authController -> db : getUserByUsername(username)
activate db
db -> user : <<create>>
activate user
db <- - user : user
deactivate user
authController <- - db : user
deactivate db

authController -> authController : Compare password\n against hash
activate authController
authController <- - authController : Comparison result
deactivate authController

opt if equal
authController - -> producer : Successful authentication
end
producer <- - authController : Unsucessful authentication
deactivate authController

@enduml

@startuml

autonumber

box "Authentication"
    participant ":Producer" as producer
    participant ":AuthController" as authController <<control>>
    participant ":User" as user
    participant ":DB" as db
end box

activate producer
producer -> authController : signIn(username, password)
activate authController
authController -> db : getUserByUsername(username)
activate db
db -> user : <<create>>
activate user
db <- - user : user
deactivate user
authController <- - db : user
deactivate db

authController -> authController : Compare password\n against hash
activate authController
authController <- - authController : Comparison result
deactivate authController

opt if equal
authController - -> producer : Successful authentication
end
producer <- - authController : Unsucessful authentication
deactivate authController

@enduml

PlantUML version 1.2021.6(Fri May 14 07:09:51 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>