<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" contentScriptType="application/ecmascript" contentStyleType="text/css"
     height="552px" preserveAspectRatio="none" style="width:611px;height:552px;background:#FFFFFF;" version="1.1"
     viewBox="0 0 611 552" width="611px" zoomAndPan="magnify">
    <defs>
        <filter height="300%" id="f34puww4fqrtr" width="300%" x="-1" y="-1">
            <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
            <feColorMatrix in="blurOut" result="blurOut2" type="matrix"
                           values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
            <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
            <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
        </filter>
    </defs>
    <g>
        <rect fill="#DDDDDD" height="540.0469" style="stroke:#A80036;stroke-width:1.0;" width="589" x="16" y="6"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="107" x="257" y="18.0669">Authentication
        </text>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="395.7266" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="58" y="86.7266"/>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="365.5938" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="287" y="107.8594"/>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="40.1328" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="292" y="336.9219"/>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="447" y="226.3906"/>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="197.9297" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="574" y="86.7266"/>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="46.2656" style="stroke:#000000;stroke-width:2.0;"
              width="353" x="10" y="151.9922"/>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="46.2656" style="stroke:#000000;stroke-width:2.0;"
              width="353" x="10" y="399.0547"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="76.7266"
              y2="491.4531"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="292" x2="292" y1="76.7266"
              y2="491.4531"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="451.5" x2="451.5" y1="76.7266"
              y2="491.4531"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="579" x2="579" y1="76.7266"
              y2="491.4531"/>
        <rect fill="#FEFECE" filter="url(#f34puww4fqrtr)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;"
              width="82" x="20" y="41.4297"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="27"
              y="61.4248">:Producer
        </text>
        <rect fill="#FEFECE" filter="url(#f34puww4fqrtr)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;"
              width="82" x="20" y="490.4531"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="27"
              y="510.4482">:Producer
        </text>
        <rect fill="#FEFECE" filter="url(#f34puww4fqrtr)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;"
              width="118" x="231" y="25.1328"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing"
              textLength="66" x="257" y="45.1279">«control»
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="238"
              y="61.4248">:AuthController
        </text>
        <rect fill="#FEFECE" filter="url(#f34puww4fqrtr)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;"
              width="118" x="231" y="490.4531"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing"
              textLength="66" x="257" y="510.4482">«control»
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="238"
              y="526.7451">:AuthController
        </text>
        <rect fill="#FEFECE" filter="url(#f34puww4fqrtr)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;"
              width="51" x="424.5" y="41.4297"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="431.5"
              y="61.4248">:User
        </text>
        <rect fill="#FEFECE" filter="url(#f34puww4fqrtr)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;"
              width="51" x="424.5" y="490.4531"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="431.5"
              y="510.4482">:User
        </text>
        <rect fill="#FEFECE" filter="url(#f34puww4fqrtr)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;"
              width="40" x="557" y="41.4297"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="564"
              y="61.4248">:DB
        </text>
        <rect fill="#FEFECE" filter="url(#f34puww4fqrtr)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;"
              width="40" x="557" y="490.4531"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="564"
              y="510.4482">:DB
        </text>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="395.7266" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="58" y="86.7266"/>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="365.5938" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="287" y="107.8594"/>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="40.1328" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="292" y="336.9219"/>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="447" y="226.3906"/>
        <rect fill="#FFFFFF" filter="url(#f34puww4fqrtr)" height="197.9297" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="574" y="86.7266"/>
        <polygon fill="#A80036" points="275,103.8594,285,107.8594,275,111.8594,279,107.8594"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="68" x2="281" y1="107.8594" y2="107.8594"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="9" x="75" y="102.7935">1
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="88"
              y="102.7935">signIn(username, password)
        </text>
        <polygon fill="#A80036" points="562,132.9922,572,136.9922,562,140.9922,566,136.9922"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="297" x2="568" y1="136.9922" y2="136.9922"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="9" x="304" y="131.9263">2
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="317"
              y="131.9263">getUserByUsername(username)
        </text>
        <path d="M10,151.9922 L80,151.9922 L80,158.9922 L70,168.9922 L10,168.9922 L10,151.9922 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.0;"/>
        <rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="353" x="10" y="151.9922"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="25" x="25" y="165.0591">opt
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="88" x="95" y="164.2026">[user == null]
        </text>
        <polygon fill="#A80036" points="79,186.2578,69,190.2578,79,194.2578,75,190.2578"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73" x2="286" y1="190.2578"
              y2="190.2578"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="9" x="85" y="185.1919">3
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="98"
              y="185.1919">Unsuccessful
        </text>
        <polygon fill="#A80036" points="468,222.3906,458,226.3906,468,230.3906,464,226.3906"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="462" x2="573" y1="226.3906" y2="226.3906"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="9" x="474" y="221.3247">4
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="487"
              y="221.3247">&lt;&lt;create&gt;&gt;
        </text>
        <polygon fill="#A80036" points="562,251.5234,572,255.5234,562,259.5234,566,255.5234"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="452" x2="568" y1="255.5234"
              y2="255.5234"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="9" x="459" y="250.4575">5
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="472"
              y="250.4575">user
        </text>
        <polygon fill="#A80036" points="308,280.6563,298,284.6563,308,288.6563,304,284.6563"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="302" x2="578" y1="284.6563"
              y2="284.6563"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="9" x="314" y="279.5903">6
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="327"
              y="279.5903">user
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="297" x2="344" y1="323.9219" y2="323.9219"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="344" x2="344" y1="323.9219" y2="336.9219"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="303" x2="344" y1="336.9219" y2="336.9219"/>
        <polygon fill="#A80036" points="313,332.9219,303,336.9219,313,340.9219,309,336.9219"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="9" x="309" y="311.2896">7
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="322"
              y="303.7231">Compare password
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="326"
              y="318.856">against hash
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="260" x2="302" y1="376.0547"
              y2="376.0547"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="260" x2="260" y1="376.0547"
              y2="389.0547"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="260" x2="307" y1="389.0547"
              y2="389.0547"/>
        <polygon fill="#A80036" points="287,385.0547,297,389.0547,287,393.0547,291,389.0547"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="9" x="172" y="370.9888">8
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="185"
              y="370.9888">Comparison result
        </text>
        <path d="M10,399.0547 L80,399.0547 L80,406.0547 L70,416.0547 L10,416.0547 L10,399.0547 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.0;"/>
        <rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="353" x="10" y="399.0547"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="25" x="25" y="412.1216">opt
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="59" x="95" y="411.2651">[if equal]
        </text>
        <polygon fill="#A80036" points="79,433.3203,69,437.3203,79,441.3203,75,437.3203"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73" x2="286" y1="437.3203"
              y2="437.3203"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="9" x="85" y="432.2544">9
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="98"
              y="432.2544">Successful authentication
        </text>
        <polygon fill="#A80036" points="79,469.4531,69,473.4531,79,477.4531,75,473.4531"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73" x2="291" y1="473.4531"
              y2="473.4531"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="18" x="85" y="468.3872">10
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="107"
              y="468.3872">Unsucessful authentication
        </text><!--MD5=[6782d0dbb68571668b28105a3f1b0d2d]
@startuml
' https://plantuml.com/sequence-diagram

autonumber

box "Authentication"
    participant ":Producer" as producer
    participant ":AuthController" as authController <<control>>
    participant ":User" as user
    participant ":DB" as db
end box

activate producer
producer -> authController : signIn(username, password)
activate authController
authController -> db : getUserByUsername(username)

opt user == null
producer <- - authController : Unsuccessful
end

activate db
db -> user : <<create>>
activate user
db <- - user : user
deactivate user
authController <- - db : user
deactivate db

authController -> authController : Compare password\n against hash
activate authController
authController <- - authController : Comparison result
deactivate authController

opt if equal
authController - -> producer : Successful authentication
end
producer <- - authController : Unsucessful authentication
deactivate authController

@enduml

@startuml

autonumber

box "Authentication"
    participant ":Producer" as producer
    participant ":AuthController" as authController <<control>>
    participant ":User" as user
    participant ":DB" as db
end box

activate producer
producer -> authController : signIn(username, password)
activate authController
authController -> db : getUserByUsername(username)

opt user == null
producer <- - authController : Unsuccessful
end

activate db
db -> user : <<create>>
activate user
db <- - user : user
deactivate user
authController <- - db : user
deactivate db

authController -> authController : Compare password\n against hash
activate authController
authController <- - authController : Comparison result
deactivate authController

opt if equal
authController - -> producer : Successful authentication
end
producer <- - authController : Unsucessful authentication
deactivate authController

@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
-->
    </g>
</svg>