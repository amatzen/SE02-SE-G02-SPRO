@startuml
'https://plantuml.com/sequence-diagram

autonumber

box Se kreditering (UC01)
    participant ":Producer" as producer <<Actor>>
    participant ":ProgrammeController" as programController <<Control>>
    participant ":Programme" as program <<Entity>>
    participant ":Credit" as credit <<Entity>>
    participant ":DB" as db
end box

activate producer
producer -> programController : getAll()
activate programController
programController -> db : getAll()
activate db

loop for each program credit
db -> program : <<create(programme data)>>
activate program
db <-- program : Insert credit in list
deactivate program
end

programController <-- db : Programs
deactivate db
producer <-- programController : Programs
deactivate programController

opt FiltrÃ©r krediteringer (UC02)
    ref over producer, programController : UC02
end

producer -> program: getCredits()
activate program
program -> programController : getCredits(this)
activate programController
programController -> credit : getCredits(programme)
activate credit

credit -> db : getCredits()
activate db

loop for each program credit
db -> credit : <<create(credit data)>>
activate credit
db <-- credit : Insert credit in list
deactivate credit
end

credit <-- db : Credits
deactivate db

programController <-- credit : Program credits
deactivate credit
program <-- programController : Program credits
deactivate programController
producer <-- program : Program credits

deactivate program
deactivate programController

ref over producer, programController : UC03

@enduml
